# 标记并关闭长时间无活动的 Issues 和 Pull Requests
# 如需调整时限或提示语，请直接修改下方 stale action 参数
name: 标记不活跃的issues和pull requests

on:
  schedule:
    - cron: '30 21 * * *'  # 每天 21:37 UTC

permissions:
  contents: read

jobs:
  stale:
    runs-on: ubuntu-latest
    permissions:
      issues: write
      pull-requests: write
    steps:
      - name: Harden the runner
        uses: step-security/harden-runner@95d9a5deda9de15063e7595e9719c11c38c90ae2 # v2.13.2
        with:
          egress-policy: audit

      - uses: actions/stale@5f858e3efba33a5ca4407a664cc011ad407f2008 # v10.1.0
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          stale-issue-message: '此Issue已长时间没有活动'
          stale-pr-message: '此Pull Request已长时间没有活动'
          stale-issue-label: '无issue活动'
          stale-pr-label: '无pr活动'
